<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>자바스크립트 예제</title>
  </head>
  <style>
    * {
      box-sizing: border-box;
    }
    input {
      padding: 20px;
      height: 100%;
    }
    button {
      padding: 20px;
      height: 100%;
    }
    div {
      display: flex;
      height: 80px;
    }
    body > div {
      gap: 10px;
    }
    body > div > div {
      width: 100px;
      height: 100%;
      border: 2px solid red;
      justify-content: center;
      align-items: center;
      font-size: 20px;
    }
  </style>
  <body>
    <div id="birthCalc">
      <input
        type="text"
        placeholder="출생년도를 입력하세요."
        required
        pattern="[0-9]{4}"
        oninput="this.value = this.value.replace(/[^0-9]$/g,'')"
      />
      <button onclick="calc()">나이 계산</button>
      <div class="result"></div>
    </div>
    <hr />
    <div id="square">
      <input type="text" placeholder="가로 너비를 입력하세요." />
      <input type="text" placeholder="세로 높이를 입력하세요." />
      <button onclick="square()">사각형 넓이 계산</button>
      <div class="result"></div>
    </div>
    <hr />
    <div id="discount">
      <input type="text" id="discount1" placeholder="할인 전 가격" />
      <input type="text" id="discount2" placeholder="할인율" />
      <button onclick="discount()">할인가계산</button>
      <div class="result"></div>
    </div>
  </body>
  <script>
    // 1. 나이 계산 버튼을 누르면 사용자가 입력한 출생년도를 참고하여 나이를 계산하는
    // 함수를 작성하세요. (result div에 결과 표시)
    function calc() {
      // 1.1 올 해 년도 가져온다.
      const currentYear = new Date().getFullYear();
      // 1.2 사용자가 입력한 값을 가져온다.
      const inputValue = document.querySelector("#birthCalc > input").value;
      //   const inputValue = input.value; 위처럼 줄일 수 있음.
      // 1.3 나이 계산
      const age = currentYear - inputValue;
      if (age < 0) {
        alert("값이 나올 수 없습니다.");
        return false;
      }
      // 1.4 result div에 결과 출력
      document.querySelector("#birthCalc > div.result").innerHTML = age;
    }
    // 2. 사각형의 가로 너비와 세로 높이를 입력하여 사각형의 넓이를 계산하는 함수를
    // 작성하세요. (result div에 결과 표시)
    // 1.1 사용자가 입력한 값을 가져온다.
    function square() {
      const inputs = document.querySelectorAll("#square > input");
      const width = inputs[0].value;
      const height = inputs[1].value;
      //   const inputValue2 = document.querySelector("#square2").value;
      // 1.2 가로 너비와 세로 높이 계산
      const number = width * height;
      //  1.3 result div에 결과 출력
      document.querySelector(
        "#square > div.result"
      ).innerHTML = `${number}m<sup>2</sup>`;
    }
    // 3. 원래 가격과 할인율을 입력하면 할인 가격을 계산해주는 함수를 작성하세요.
    // (할인된 가격은 정수로 표현하세요. result div에 결과 표시)
    // function discount() {
    //   const inputValue = document.querySelector("#discount1").value;
    //   const inputValue3 = document.querySelector("#discount2").value;
    //   const inputValue4 = inputValue3 / 100;
    //   let result = inputValue - inputValue * inputValue4;
    //   document.querySelector("#discount > div.result").innerHTML =
    //     parseInt(result);
    // }
    function discount() {
      const inputs = document.querySelectorAll("#discount > input");
      const oldPrice = inputs[0].value;
      const dicRate = inputs[1].value;
      const newPrice = oldPrice * (1 - dicRate / 100);
      document.querySelector("#discount > div.result").innerHTML = parseInt(
        `${newPrice}원`
      );
    }
  </script>
</html>
